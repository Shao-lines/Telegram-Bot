.. module:: city_info_bot
    :platform: any
    :synopsis: Telegram бот для получения информации о городе, включая погоду, часовой пояс, язык и валюту.
    Этот модуль предоставляет функции для получения информации о городах, включая погодные данные, часовой пояс, язык и валюту. Бот использует API для получения информации о городах и погоды.
..

.. function:: get_timezone_with_delay(lat, lon)
   Добавляет задержку в 1 секунду перед запросом на получение часового пояса для указанных координат.
   :param lat: Географическая широта города.
   :param lon: Географическая долгота города.
   :return: Часовой пояс города.
   :raises: Exception, если возникла ошибка при запросе.
   .. note::
      Используется для предотвращения блокировки запросов API.
..

.. function:: get_country_language(country_name)
   Возвращает язык, который используется в указанной стране.
   :param country_name: Название страны.
   :return: Язык, который используется в указанной стране, или "Неизвестно", если страна не найдена.
..

.. function:: translate_city_name(city_name)
   Переводит название города с русского на английский.
   :param city_name: Название города на русском языке.
   :return: Переведенное название города на английский.
   :raises: Exception, если ошибка при переводе.
..

.. function:: get_timezone(lat, lon)
   Определяет часовой пояс для указанного города по его географическим координатам.
   :param lat: Географическая широта города.
   :param lon: Географическая долгота города.
   :return: Часовой пояс города или "Неизвестно", если не удалось определить.
..

.. function:: get_city_info(city_name)
   Получает информацию о городе: название, страну, часовой пояс и язык.
   :param city_name: Название города.
   :return: Словарь с информацией о городе или сообщение об ошибке, если город не найден.
   :raises: requests.exceptions.RequestException, если ошибка при запросе к API.
..

.. function:: get_weather(city_name)
   Получает данные о погоде в указанном городе.
   :param city_name: Название города.
   :return: Словарь с температурой и описанием погоды, если запрос успешен, или сообщение об ошибке.
   :raises: Exception, если запрос не удался.
..

.. function:: get_country_code(country_name)
   Получает код страны по ее названию.
   :param country_name: Название страны.
   :return: Двухбуквенный код страны или None, если код не найден.
   :raises: Exception, если ошибка при получении кода страны.
..

.. function:: get_currency_by_country(country_name)
   Получает валюту, используемую в указанной стране.
   :param country_name: Название страны.
   :return: Валюта страны или "Неизвестная валюта", если не удалось найти валюту.
..

.. function:: start(update, context)
   Хэндлер для команды "/start". Отправляет приветственное сообщение пользователю.
   :param update: Объект Update, содержащий информацию о сообщении.
   :param context: Контекст, содержащий информацию о боте.
   :return: None
..

.. function:: handle_message(update, context)
   Обрабатывает сообщение пользователя. Получает информацию о городе и погоде, затем отправляет ответ.
   :param update: Объект Update, содержащий информацию о сообщении.
   :param context: Контекст, содержащий информацию о боте.
   :return: None
..

.. function:: main()
   Основная точка запуска бота. Настроен обработчик команд и сообщений.
   :return: None

